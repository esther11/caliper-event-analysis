<!DOCTYPE html>
<meta charset="utf-8">
<style>

    .node circle {
        fill: #999;
    }

    .node text {
        font: 11px sans-serif;
    }

    .link {
        fill: none;
        stroke-opacity: 0.6;
        stroke-width: 2px;
    }

</style>
<svg width="800" height="800"></svg>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var svg = d3.select("svg"),
        width = +svg.attr("width"),
        height = +svg.attr("height"),
        g = svg.append("g").attr("transform", "translate(" + (width / 2 - 15) + "," + (height / 2 + 25) + ")");

    var tree = d3.cluster()
        .size([360, 300])
        .separation(function(a, b) { return (a.parent == b.parent ? 1 : 2) / a.depth; });

    var color = d3.scaleLinear()
        .domain([0, 6])
        .range(["hsl(152,100%,100%)", "hsl(228,40%,50%)"])
        .interpolate(d3.interpolateHcl);

    function radialDendrogram(json_f) {
        d3.json(json_f, function(error, data) {
            if (error) throw error;

            root = tree(d3.hierarchy(data));

            var link = g.selectAll(".link")
                .data(root.descendants().slice(1))
                .enter().append("path")
                .attr("class", "link")
                .attr("stroke", function(d) {return color(d.depth);})
                .attr("d", function(d) {
                    return "M" + project(d.x, d.y)
                        + "C" + project(d.x, (d.y + d.parent.y) / 2)
                        + " " + project(d.parent.x, (d.y + d.parent.y) / 2)
                        + " " + project(d.parent.x, d.parent.y);
                });

            var node = g.selectAll(".node")
                .data(root.descendants())
                .enter().append("g")
                .attr("class", function(d) { return "node" + (d.children ? " node--internal" : " node--leaf"); })
                .attr("transform", function(d) { return "translate(" + project(d.x, d.y) + ")"; });

            node.append("circle")
                .attr("r", function(d) {return d.children ? 2 : Math.log(d.data.size*10); });

            node.append("text")
                .attr("dy", ".31em")
                .attr("x", function(d) { return d.x < 180 === !d.children ? 6 : -6; })
                .attr("text-anchor", function(d) { return d.x < 180 === !d.children ? "start" : "end"; })
                .attr("transform", function(d) { return "rotate(" + (d.x < 180 ? d.x - 90 : d.x + 90) + ")"; })
                .text(function(d) { return d.data.name; })
            ;
        });
    }

    function project(x, y) {
        var angle = (x - 90) / 180 * Math.PI, radius = y;
        return [radius * Math.cos(angle), radius * Math.sin(angle)];
    }

    radialDendrogram("d3-dendrogram.json");

</script>